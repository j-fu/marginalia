<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/marginalia/libs/highlight/github.min.css"> <link rel=stylesheet  href="/marginalia/css/franklin.css"> <link rel=stylesheet  href="/marginalia/css/poole_lanyon.css"> <link rel=stylesheet  href="/marginalia/css/adjust.css"> <link rel=icon  href="/marginalia/assets/favicon.png"> <title>Julia: Project Workflow Howto</title> <input type=checkbox  class=sidebar-checkbox  id=sidebar-checkbox > <div class=sidebar  id=sidebar > <div class=sidebar-item > <p>Marginalia</p> </div> <nav class=sidebar-nav > <a class="sidebar-nav-item " href="/marginalia/">Home</a> <a class="sidebar-nav-item " href="/marginalia/julia/">Julia</a> <a class="sidebar-nav-item " href="/marginalia/git/">Git</a> <a class="sidebar-nav-item " href="/marginalia/older-posts/">Older posts</a> </nav> <div class=sidebar-item > <p>&copy; Jürgen Fuhrmann.</p> </div> </div> <!-- Wrap is the content to shift when toggling the sidebar. We wrap the content to avoid any CSS collisions with our real content. --> <div class=wrap > <div class=masthead > <div class=container > <h3 class=masthead-title > <a href="/marginalia/" title=Home >Marginalia</a> </h3> </div> </div> </div> <div class="container content"> <div class=franklin-content ><h1 id=julia_project_workflow_howto ><a href="#julia_project_workflow_howto" class=header-anchor >Julia: Project Workflow Howto</a></h1> <p>This post complements the <a href="/marginalia/julia/project-workflow">project workflow recommendations</a>. It tries to explain in a more introductory and rather assertive way how to work on collaborative projects &#40;not packages&#41; in Julia. It is also meant to be an introduction for collaborators with whome I share a Julia project following these conventions.</p> <p><div class=franklin-toc ><ol><li><a href="#the_project_files">The project files</a><li><a href="#installation_and_updating_of_dependent_packages">Installation and updating of dependent packages</a><li><a href="#running_code">Running code</a><ol><li><a href="#scripts">Scripts</a><li><a href="#notebooks">Notebooks</a></ol></ol></div> </p> <h2 id=the_project_files ><a href="#the_project_files" class=header-anchor >The project files</a></h2> <p>After checking out the project the first time, you will see it populated with a number of files and subdirectories.</p> <p>The essential role of files a typical Julia project file tree is as follows:</p> <ul> <li><p><code>Project.toml</code>: This file describes the project on a high level, including the packages it depends on and their compatibility constraints as <a href="/marginalia/julia/basic-workflow/#record_your_project_dependencies_in_reproducible_environments">described in &quot;Basic Workflow&quot;</a>.</p> <li><p><code>LICENSE</code>: License of the project.</p> <li><p><code>README.md</code>: A general description of the project</p> <li><p><code>src</code>: Subdirectory for project specific source code shared between scripts and notebooks of the project</p> <li><p><code>test</code>: Unit tests for the project code in <code>src</code>. Could include something from <code>scripts</code>, <code>notebooks</code>.</p> <li><p><code>packages</code>: Subdirectory containing packages developed locally in this project. At some stage these could be turned into separate Julia packages.</p> <li><p><code>scripts</code>: Julia scripts for creating project results. </p> <li><p><code>notebooks</code>: Interactive notebooks</p> <li><p><code>docs</code>: Sources for the documentation created with <code>Documenter.jl</code></p> </ul> <h2 id=installation_and_updating_of_dependent_packages ><a href="#installation_and_updating_of_dependent_packages" class=header-anchor >Installation and updating of dependent packages</a></h2> <p>After checking out the code with git, at first it is necessary to instantiate the project environment. Go to the project root directory and invoke</p> <pre><code class="julia hljs">$ julia --project=.
julia&gt; <span class=hljs-keyword >using</span> Pkg
julia&gt; Pkg.instantiate()</code></pre> <p>This uses the Julia package manager to automatically download and precompile all Julia packages listed as dependencies in <code>Project.toml</code>. It also will create a <code>Manifest.toml</code> file which records recursively all dependenencies with their exact versions.</p> <p>Likewise, after updating some code from the git repository, it is possible to update the project environment:</p> <pre><code class="julia hljs">$ julia --project=.
julia&gt; <span class=hljs-keyword >using</span> Pkg
julia&gt; Pkg.update()</code></pre> <h2 id=running_code ><a href="#running_code" class=header-anchor >Running code</a></h2> <p>In order to ensure the activation of the project evironment described in <code>Project.toml</code>, all scripts and all notebooks activate the project environment at their respective start. Typically, this looks like</p> <pre><code class="julia hljs">Pkg.activate(joinpath(<span class=hljs-meta >@__DIR__</span>, <span class=hljs-string >&quot;...&quot;</span>))</code></pre>
<h3 id=scripts ><a href="#scripts" class=header-anchor >Scripts</a></h3>
<p>To run script <code>scripts/script1.jl</code>, perform from the project root:</p>
<pre><code class="julia hljs">$ julia --project=.
julia&gt; <span class=hljs-keyword >using</span> Revise
julia&gt; includet(<span class=hljs-string >&quot;scripts/script1.jl&quot;</span>)</code></pre>
<p>See <a href="/marginalia/julia/basic-workflow/#use_revisejl_to_reload_modified_code">here</a> for an explanation of <code>Revise</code></p>
<p>With some precompilation hiatus, it is possible to just run</p>
<pre><code class="julia hljs">julia scripts/script1.jl</code></pre>
<h3 id=notebooks ><a href="#notebooks" class=header-anchor >Notebooks</a></h3>
<p>To run the Pluto notebook <code>notebooks/notebook1.jl</code>, <a href="https://plutojl.org">install Pluto</a> in your global environment and perform</p>
<pre><code class="julia hljs">$ julia 
julia&gt; <span class=hljs-keyword >using</span> Pluto
julia&gt; Pluto.run(notebook=<span class=hljs-string >&quot;notebooks/notebook1.jl&quot;</span>)</code></pre>
<p>
<hr size=5  noshade>
 <strong>Update history</strong></p>
<ul>
<li><p>2024-10-02: Initial version </p>

</ul>
<div class=page-foot >
  <div class=copyright >
    &copy; Jürgen Fuhrmann. License: <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode"> CC-BY-SA 4.0</a>. Last modified: October 02, 2024. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
Upon finding factual errors, typos etc. <a href=https://github.com/j-fu/marginalia/issues> raise an issue<a>.
<center>  <a href="/marginalia/feed.xml"> <img src="/marginalia/assets/rss.png" style="width:100px;"></a> </center>
  </div>
</div>


</div>
      </div>  
    </div> 
    
    
        


    
    <label for=sidebar-checkbox  class=sidebar-toggle ></label>